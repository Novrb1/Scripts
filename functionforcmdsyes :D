if not game:IsLoaded() then
    game.Loaded:Wait()
end

Players = game:GetService("Players")
LocalPlayer = Players.LocalPlayer
Mouse = LocalPlayer:GetMouse()
UIS = game:GetService("UserInputService")
RunService = game:GetService("RunService")
TweenService = game:GetService("TweenService")
CCam = workspace.CurrentCamera

local screengui = Instance.new("ScreenGui",game.CoreGui)
local cmdBar = Instance.new("TextBox",screengui)
cmdBar.Position = UDim2.new(0, -400, 0.5, -10)
cmdBar.Size = UDim2.new(0, 200, 0, 20)
cmdBar.BackgroundColor3 = Color3.fromRGB(0,0,0)
cmdBar.BorderSizePixel = 1
cmdBar.BorderColor3 = Color3.fromRGB(255,0,0)
cmdBar.BackgroundTransparency = 0.2
cmdBar.TextColor3 = Color3.fromRGB(255, 255, 255)
cmdBar.TextSize = 16
cmdBar.TextXAlignment = Enum.TextXAlignment.Left

local Commands = {}
local Prefix = ";"

Mouse.KeyDown:Connect(function(key)
    if key == Prefix then
        cmdBar:TweenPosition(UDim2.new(0, 0, 0.5, -10), 1, 0, 0.3, 1)
    	cmdBar:CaptureFocus()
    end
end)

local function AddCmd(CmdName, Desc, Func)
    Commands[#Commands + 1] = {["Name"] = CmdName, ["Description"] = Desc, ["Function"] = Func}
end

local function Search(CmdName)
    for _, v in pairs(Commands) do 
        if v.Name == CmdName then 
            return v.Function 
        end
    end
end

local function Help()
    --[[
    for _, v in pairs(Commands) do 
        print(v.Name, v.Description)
    end
    ]]
end
 
local function CheckCmd(Cmd)
    Cmd = string.lower(Cmd)
    if Cmd:sub(1, #Prefix) == Prefix then 
        local Args = string.split(Cmd:sub(#Prefix + 1), " ")
        local CmdName = Search(table.remove(Args, 1))
        if CmdName and Args then
            return CmdName(Args)
        end
    end
end

function notify(ttext, stext)
    local sgui = Instance.new("ScreenGui", game.CoreGui)
    game.Debris:AddItem(sgui, 3.5)
    local Main = Instance.new("Frame", sgui)
    local ColorFrame = Instance.new("Frame", Main)
    local TitleText = Instance.new("TextLabel", Main)
    TitleText.Text = ttext
    local Subtext = Instance.new("TextLabel", Main)
    Subtext.Text = stext
    Main.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    Main.BackgroundTransparency = 0.200
    Main.Position = UDim2.new(0, -226, 1, -40)
    Main.Size = UDim2.new(0, 230, 0, 40)
    ColorFrame.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
    ColorFrame.BorderSizePixel = 0
    ColorFrame.Position = UDim2.new(1, 0, 0, -1)
    ColorFrame.Size = UDim2.new(0, 4, 1, 2)
    TitleText.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    TitleText.BackgroundTransparency = 1
    TitleText.Size = UDim2.new(1, 0, 0.5, 0)
    TitleText.Font = Enum.Font.ArialBold
    TitleText.TextColor3 = Color3.fromRGB(255, 255, 255)
    TitleText.TextSize = 20
    Subtext.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    Subtext.BackgroundTransparency = 1
    Subtext.Position = UDim2.new(0, 0, 0.5, 0)
    Subtext.Size = UDim2.new(1, 0, 0.5, 0)
    Subtext.Font = Enum.Font.Arial
    Subtext.TextColor3 = Color3.fromRGB(255, 255, 255)
    Subtext.TextSize = 18
    Main:TweenPosition(UDim2.new(0, 0, 1, -40), "Out", "Linear", 0.4, false)
    spawn(function()
        wait(2.6)
        Main:TweenPosition(UDim2.new(0, -234, 1, -40), "Out", "Linear", 0.4, false)
    end)
end

function gRoot(charmodel)
	return charmodel:FindFirstChild('HumanoidRootPart') or charmodel:FindFirstChild('Torso') or charmodel:FindFirstChild('UpperTorso')
end

function gName(nstring)
	local found
	for i,v in pairs(Players:GetChildren()) do
		if string.sub(string.lower(v.Name),1,#nstring) == string.lower(nstring) then
			found = v
		end
	end
	return found
end

function gDisplayName(dstring)
	local found
	for i,v in pairs(Players:GetChildren()) do
		if string.sub(string.lower(v.DisplayName),1,#dstring) == string.lower(dstring) then
			found = v
		end
	end
	return found
end

AddCmd("prefix", "Changes Prefix", function(Args)
    if Args[1] and Args[1] ~= "" and Args[1] ~= " " then
        Prefix = string.lower(Args[1])
    else
        notify("argument error", "need second argument")
    end
end)

AddCmd("ws", "WalkSpeed Changer", function(Args)
    if Args[1] and tonumber(Args[1]) then
        if LocalPlayer.Character and LocalPlayer.Character:FindFirstChildOfClass("Humanoid") then
            LocalPlayer.Character:FindFirstChildOfClass("Humanoid").WalkSpeed = tonumber(Args[1])
        else
            notify("character error", "need character")
        end
    else
        notify("argument error", "need second argument")
    end
end)

AddCmd("jp", "JumpPower Changer", function(Args)
    if Args[1] and tonumber(Args[1]) then
        if LocalPlayer.Character and LocalPlayer.Character:FindFirstChildOfClass("Humanoid") then
            LocalPlayer.Character:FindFirstChildOfClass("Humanoid").JumpPower = tonumber(Args[1])
        else
            notify("character error", "need character")
        end
    else
        notify("argument error", "need second argument")
    end
end)

local noclip
AddCmd("noclip", "Disables Collision", function(Args)
    noclip = RunService.Stepped:Connect(function()
        if LocalPlayer.Character and LocalPlayer.Character:FindFirstChildOfClass("Humanoid") then
            for _,z in next, LocalPlayer.Character:GetChildren() do
                if z:IsA'Part' and z:IsA'MeshPart' then
                    z.CanCollide = false
                end
            end
        end
    end)
    notify("noclip", "Disabling Collision")
end)

AddCmd("clip", "Enables Collision", function(Args)
    if noclip then
        noclip:Disconnect()
        notify("noclip", "Re-Enabling Collision")
    end
end)

local grabtools
AddCmd("gtools", "Grabs Tools On Ground", function(Args)
    grabtools = RunService.Stepped:Connect(function()
        if LocalPlayer.Character and LocalPlayer.Character:FindFirstChildOfClass("Humanoid") then
            LocalPlayer.Character:FindFirstChildOfClass("Humanoid"):EquipTool(workspace:FindFirstChildOfClass("Tool"))
        end
    end)
    notify("grabtools", "Now Grabbing Tools")
end)

AddCmd("ungtools", "Stops Grabbing Tools", function(Args)
    if grabtools then
        grabtools:Disconnect()
        notify("grabtools", "Stopped Grabbing Tools")
    end
end)

--loadstring(game:HttpGet("https://raw.githubusercontent.com/Novrb1/Scripts/master/functionforcmdsyes%20%3AD"))()
local SGui = Instance.new("ScreenGui", game.CoreGui)
local AFrame = Instance.new("Frame", ScreenGui)
local UIListLayout = Instance.new("UIListLayout", AFrame)
local PName = Instance.new("TextLabel", AFrame)
local PDisplayName = Instance.new("TextLabel", AFrame)
local PAccountAge = Instance.new("TextLabel", AFrame)
local PUserId = Instance.new("TextLabel", AFrame)
local playerlink = Instance.new("TextButton", AFrame)
local BFrame = Instance.new("Frame", AFrame)
local ILabel = Instance.new("ImageLabel", BFrame)
local THealth = Instance.new("TextLabel", BFrame)
local TPosition = Instance.new("TextLabel", BFrame)

SGui.Enabled = false

AFrame.Active = true
AFrame.Draggable = true
AFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
AFrame.BackgroundTransparency = 0.2
AFrame.BorderColor3 = Color3.fromRGB(255, 0, 0)
AFrame.Position = UDim2.new(0.5, -100, 0.5, -75)
AFrame.Size = UDim2.new(0, 200, 0, 150)

UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
UIListLayout.Padding = UDim.new(0, 1)

PName.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
PName.BackgroundTransparency = 0.9
PName.BorderColor3 = Color3.fromRGB(255, 0, 0)
PName.Size = UDim2.new(0, 200, 0, 17)
PName.Text = "Name:"
PName.TextColor3 = Color3.fromRGB(255, 255, 255)
PName.TextSize = 14
PName.TextXAlignment = Enum.TextXAlignment.Left

PDisplayName.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
PDisplayName.BackgroundTransparency = 0.9
PDisplayName.BorderColor3 = Color3.fromRGB(255, 0, 0)
PDisplayName.Size = UDim2.new(0, 200, 0, 17)
PDisplayName.Font = Enum.Font.SourceSans
PDisplayName.Text = "DisplayName:"
PDisplayName.TextColor3 = Color3.fromRGB(255, 255, 255)
PDisplayName.TextSize = 14
PDisplayName.TextXAlignment = Enum.TextXAlignment.Left

PAccountAge.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
PAccountAge.BackgroundTransparency = 0.9
PAccountAge.BorderColor3 = Color3.fromRGB(255, 0, 0)
PAccountAge.Size = UDim2.new(0, 200, 0, 17)
PAccountAge.Font = Enum.Font.SourceSans
PAccountAge.Text = "AccountAge:"
PAccountAge.TextColor3 = Color3.fromRGB(255, 255, 255)
PAccountAge.TextSize = 14
PAccountAge.TextXAlignment = Enum.TextXAlignment.Left

PUserId.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
PUserId.BackgroundTransparency = 0.9
PUserId.BorderColor3 = Color3.fromRGB(255, 0, 0)
PUserId.Size = UDim2.new(0, 200, 0, 17)
PUserId.Font = Enum.Font.SourceSans
PUserId.Text = "UserId:"
PUserId.TextColor3 = Color3.fromRGB(255, 255, 255)
PUserId.TextSize = 14
PUserId.TextXAlignment = Enum.TextXAlignment.Left

playerlink.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
playerlink.BackgroundTransparency = 0.9
playerlink.BorderColor3 = Color3.fromRGB(255, 0, 0)
playerlink.Position = UDim2.new(0, 0, 0.479999989, 0)
playerlink.Size = UDim2.new(0, 200, 0, 17)
playerlink.AutoButtonColor = false
playerlink.Font = Enum.Font.SourceSans
playerlink.Text = "Copy Player Link"
playerlink.TextColor3 = Color3.fromRGB(255, 255, 255)
playerlink.TextSize = 14

playerlink.MouseButton1Click:Connect(function()
    setclipboard(playerlink.Text)
end)

BFrame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
BFrame.BackgroundTransparency = 1
BFrame.Position = UDim2.new(0, 0, 0.600000024, 0)
BFrame.Size = UDim2.new(0, 200, 0, 60)

ILabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
ILabel.BackgroundTransparency = 1
ILabel.BorderSizePixel = 0
ILabel.Position = UDim2.new(0, 0, -0.0166666675, 0)
ILabel.Size = UDim2.new(0, 61, 0, 61)
ILabel.Image = "rbxasset://textures/ui/GuiImagePlaceholder.png"

THealth.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
THealth.BackgroundTransparency = 0.9
THealth.BorderColor3 = Color3.fromRGB(27, 42, 53)
THealth.BorderSizePixel = 0
THealth.Position = UDim2.new(0.305000007, 0, -0.0166666675, 0)
THealth.Size = UDim2.new(0, 139, 0, 12)
THealth.Font = Enum.Font.SourceSans
THealth.Text = "Health/Hp:"
THealth.TextColor3 = Color3.fromRGB(255, 255, 255)
THealth.TextSize = 14
THealth.TextXAlignment = Enum.TextXAlignment.Left

TPosition.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
TPosition.BackgroundTransparency = 0.9
TPosition.BorderColor3 = Color3.fromRGB(27, 42, 53)
TPosition.BorderSizePixel = 0
TPosition.Position = UDim2.new(0.305000007, 0, 0.800000012, 0)
TPosition.Size = UDim2.new(0, 139, 0, 12)
TPosition.Font = Enum.Font.SourceSans
TPosition.Text = "Studs:"
TPosition.TextColor3 = Color3.fromRGB(255, 255, 255)
TPosition.TextSize = 14
TPosition.TextXAlignment = Enum.TextXAlignment.Left
local ginfoupdate
AddCmd("ginfo", "Gets Info Of Player", function(Args)
    if Args[1] and Args[1] ~= "" and Args[1] ~= " " then
        if string.lower(Args[1]) == "display" then
            local plr = gDisplayName(Args[2])
            local enableds = true
            SGui.Enabled = true
            ginfoupdate = RunService.Stepped:Connect(function()
                PName.Text = plr.Name
                PDisplayName.Text = plr.DisplayName
                PUserId.Text = plr.UserId
                PAccountAge.Text = plr.AccountAge
                ILabel.Image = Players:GetUserThumbnailAsync(plr.UserId, Enum.ThumbnailType.AvatarBust, Enum.ThumbnailSize.Size420x420)
                playerlink.Text = "https://www.roblox.com/users/" .. plr.UserId .. "/profile"
                if plr.Character and gRoot(plr.Character) then
                    local main = gRoot(plr.Character)
                    if main then
                        TPosition.Text = "Studs: " .. math.floor(LocalPlayer:DistanceFromCharacter(main.Position))
                    end
                    if main.Parent:FindFirstChildOfClass("Humanoid") then
                        THealth.Text = "Health/Hp: " .. math.floor(main.Parent:FindFirstChildOfClass("Humanoid").Health) .. "/" .. main.Parent:FindFirstChildOfClass("Humanoid").MaxHealth
                    else
                        THealth.Text = "Health/Hp: 0/0"
                    end
                end
            end)
            game.Players.PlayerRemoving:Connect(function(plrr)
                if enableds then
                    if plrr == plr then
                        if ginfoupdate then
                            ginfoupdate:Disconnect()
                            enableds = false
                            SGui.Enabled = false
                        end
                    end
                end
            end)
            notify("starting ginfo", "grabbed info")
        else
            local plr = gName(Args[1])
            local enableds = true
            SGui.Enabled = true
            ginfoupdate = RunService.Stepped:Connect(function()
                PName.Text = plr.Name
                PDisplayName.Text = plr.DisplayName
                PUserId.Text = plr.UserId
                PAccountAge.Text = plr.AccountAge
                ILabel.Image = Players:GetUserThumbnailAsync(plr.UserId, Enum.ThumbnailType.AvatarBust, Enum.ThumbnailSize.Size420x420)
                playerlink.Text = "https://www.roblox.com/users/" .. plr.UserId .. "/profile"
                if plr.Character and gRoot(plr.Character) then
                    local main = gRoot(plr.Character)
                    if main then
                        TPosition.Text = "Studs: " .. math.floor(LocalPlayer:DistanceFromCharacter(main.Position))
                    end
                    if main.Parent:FindFirstChildOfClass("Humanoid") then
                        THealth.Text = "Health/Hp: " .. math.floor(main.Parent:FindFirstChildOfClass("Humanoid").Health) .. "/" .. main.Parent:FindFirstChildOfClass("Humanoid").MaxHealth
                    else
                        THealth.Text = "Health/Hp: 0/0"
                    end
                end
            end)
            game.Players.PlayerRemoving:Connect(function(plrr)
                if enableds then
                    if plrr == plr then
                        if ginfoupdate then
                            ginfoupdate:Disconnect()
                            enableds = false
                            SGui.Enabled = false
                        end
                    end
                end
            end)
            notify("starting ginfo", "grabbed info")
        end
    end
end)

AddCmd("unginfo", "Stops Grabbing Info", function(Args)
    if ginfoupdate then
        ginfoupdate:Disconnect()
        SGui.Enabled = false
        notify("stopping ginfo", "stopped grabbing info")
    end
end)

cmdBar.FocusLost:Connect(function()
    CheckCmd(cmdBar.Text)
    cmdBar:TweenPosition(UDim2.new(0, -400, 0.5, -10), 1, 0, 1, 1)
end)
