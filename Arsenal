local library = loadstring(game:HttpGet("https://raw.githubusercontent.com/Novrb1/Scripts/master/UILIB-not-mine"))()
library:SetBind(Enum.KeyCode.RightShift)
local Players = game:GetService("Players")
local lp = Players.LocalPlayer
local cam = game.workspace.CurrentCamera
local mouse = lp:GetMouse()
local Settings = {
    silent_aimbot = false,
    show_fov = false,
    NumSides = 4,
    visionly = false,
    fov_value = 10,
    fov_thickness = 1,
    aimpart = "Head",
    infammo = false,
    norecoil = false,
    nospread = false,
    auto = false
}
local a = library:NewWindow("Arsenal","UI")
local aim_tab = a:NewSection("Aimbot")
local plr_tab = a:NewSection("Players")
local weap_tab = a:NewSection("Weapons")
aim_tab:Toggle("Silent Aimbot", function(bool)
    Settings.silent_aimbot = bool
end)
aim_tab:Toggle("Visible Only", function(bool)
    Settings.visionly = bool
end)
aim_tab:Drop("Aim Part", {"Head", "UpperTorso", "LowerTorso"}, function(thing)
    Settings.aimpart = thing
end)
aim_tab:Toggle("Show FOV", function(bool)
    Settings.show_fov = bool
end)
aim_tab:Slider("Field Of View", 10, 500, function(val)
    Settings.fov_value = tonumber(val);
end)
aim_tab:Slider("Thickness", 1, 10, function(val)
    Settings.fov_thickness = tonumber(val);
end)
aim_tab:Slider("Number Of Sides", 4, 100, function(val)
    Settings.NumSides = tonumber(val);
end)
weap_tab:Toggle('Infinite Ammo', function(bool)
    infammo = bool 
end)
weap_tab:Toggle('No Recoil', function(bool)
    norecoil = bool 
end)
weap_tab:Toggle('No Spread', function(bool)
    nospread = bool 
end)
weap_tab:Toggle('Automatic Gun', function(bool)
    auto = bool 
end)
local hitboxexa = false
local scaling = 1
local hbtrans = 0
plr_tab:Toggle("Hitbox Expander", function(bool)
    hitboxexa = bool
end)
plr_tab:Slider("Hitbox Scaling", 1, 20, function(num)
    scaling = num
end)
plr_tab:Slider("Hitbox Transparency", 0, 1, function(num)
    hbtrans = num
end)
local FOVCircle = Drawing.new("Circle")
FOVCircle.Visible = true
mouse.Move:Connect(function()
    if Settings.show_fov then
        FOVCircle.Thickness = Settings.fov_thickness;
        FOVCircle.Radius = Settings.fov_value;
        FOVCircle.NumSides = Settings.NumSides
        FOVCircle.Color = Color3.fromRGB(0, 125, 255);
        FOVCircle.Position = Vector2.new(mouse.X, mouse.Y + 36)
        FOVCircle.Transparency = 1
    else
        FOVCircle.Transparency = 0
    end
end)
function getClosestMouse(trg_part)
    local nearest = nil
    local last = math.huge
    for i,v in pairs(Players:GetPlayers()) do
        if v ~= lp and lp.Character and v.Character and v.Character:FindFirstChild(trg_part) and v.TeamColor ~= lp.TeamColor then
            local ePos = cam:WorldToViewportPoint(v.Character[trg_part].Position)
            local AccPos = Vector2.new(ePos.x, ePos.y)
            local mousePos = Vector2.new(cam.ViewportSize.x / 2, cam.ViewportSize.y / 2)
            local distance = (AccPos - mousePos).magnitude
            if distance < last then
                last = distance
                nearest = v
            end
        end
    end
    if nearest ~= nil then
        return nearest
    end
end
function visible(person)
    return not next(cam.GetPartsObscuringTarget(cam, {cam.CFrame.Position, person.Character:FindFirstChild("Head").Position}, {lp.Character, person.Character}));
end
function checkfov(plr, fov_amount)
    local fov
    local vector = workspace.CurrentCamera:WorldToViewportPoint(plr.Character.HumanoidRootPart.Position)
    local magnitude = (Vector2.new(vector.X, vector.Y) - Vector2.new(mouse.X, mouse.Y)).magnitude
    local cfov = fov_amount
    if magnitude < cfov then
        fov = true
    else
        fov = false
    end
    return fov
end
spawn(function()
    local gameMeta = getrawmetatable(game)
    setreadonly(gameMeta, false)
    local oldNamecall = gameMeta.__namecall
    gameMeta.__namecall = newcclosure(function(remote, ...)
        local arguments = {...}
        if tostring(remote) == 'HitPart' then
            if Settings.silent_aimbot then
                local getclose = getClosestMouse("Head")
                if getclose and checkfov(getclose, Settings.fov_value) then
                    if Settings.visionly then
                        if visible(getclose) then
                            arguments[1] = getclose.Character:FindFirstChild(Settings.aimpart)
                            arguments[2] = getclose.Character:FindFirstChild(Settings.aimpart).Position
                            return remote.FireServer(remote, unpack(arguments))
                        end
                    else
                        arguments[1] = getclose.Character:FindFirstChild(Settings.aimpart)
                        arguments[2] = getclose.Character:FindFirstChild(Settings.aimpart).Position
                        return remote.FireServer(remote, unpack(arguments))
                    end
                else
                    return remote.FireServer(remote, unpack(arguments))
                end
            end
        end
        return oldNamecall(remote, ...)
    end)
end)
spawn(function()
    local Config
    for i,v in next, getgc(true) do
        if typeof(v) == "table" and rawget(v, 'countammo') then
            Config = v
        end
    end
    local mt = getrawmetatable(game);
    setreadonly(mt,false)
    local newindex = mt.__newindex
    mt.__newindex = newcclosure(function(Instance, Property, Value)
        if tostring(Instance) == 'Clip' and Instance:IsA('TextLabel') and tostring(Instance.Parent) == 'Ammo' then
            if Property == 'Text' then
                if Settings.infammo then
                    Config.ammocount = 999
                end
                if Settings.norecoil then
                    Config.recoil = 0
                end
                if Settings.nospread then
                    Config.spreadmodifier = 0
                    Config.currentspread = 0 
                end
                if Settings.auto then
                    Config.mode = 'automatic'
                end
            end
        end
        return newindex(Instance, Property, Value)
    end)
end)
local Client
for i,v in pairs(getgc(true)) do
	if type(v) == "table" and rawget(v, "mode") then
		Client = v;
	end
end
local wkspc = Client.wkspc
game:GetService("RunService").Stepped:Connect(function()
    if hitboxexa then
        for _,v in next, Players:GetPlayers() do
            if v ~= lp then
                if wkspc.FFA.Value then 
                    if v.Character then
                        v.Character.HeadHB.CanCollide = false
                        v.Character.HeadHB.Transparency = hbtrans
                        v.Character.HeadHB.Size = Vector3.new(scaling,scaling,scaling)
    
                        v.Character.HumanoidRootPart.CanCollide = false
                        v.Character.HumanoidRootPart.Transparency = 1
                        v.Character.HumanoidRootPart.Size = Vector3.new(scaling,scaling,scaling)
                    end
                else
                    if v.Team ~= lp.Team then
                        if v.Character then
                            v.Character.HeadHB.CanCollide = false
                            v.Character.HeadHB.Transparency = hbtrans
                            v.Character.HeadHB.Size = Vector3.new(scaling,scaling,scaling)
        
                            v.Character.HumanoidRootPart.CanCollide = false
                            v.Character.HumanoidRootPart.Transparency = 1
                            v.Character.HumanoidRootPart.Size = Vector3.new(scaling,scaling,scaling)
                        end
                    else
                        v.Character.HeadHB.CanCollide = false
                        v.Character.HeadHB.Transparency = 1
                        v.Character.HeadHB.Size = Vector3.new(1,1,1)
                    end
                end
            end
        end
    else
        for _,v in next, Players:GetPlayers() do
            if v.Name ~= lp.Name then
                if v.Character then
                    v.Character.HeadHB.CanCollide = false
                    v.Character.HeadHB.Transparency = 1
                    v.Character.HeadHB.Size = Vector3.new(2,1,1)
    
                    v.Character.HumanoidRootPart.CanCollide = false
                    v.Character.HumanoidRootPart.Transparency = 1
                    v.Character.HumanoidRootPart.Size = Vector3.new(2,2,1)
                end
            end
        end
    end
end)
