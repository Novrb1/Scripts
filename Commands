warn("Thanks For Using Uh My Discord Is Feens#7908 Add If Errors or Bugs Or just to join my server")
local lp = game.Players.LocalPlayer
local mouse = lp:GetMouse()
local rservice = game:GetService("RunService")
local heartbeat = rservice.Heartbeat
local uis = game:GetService("UserInputService")
local ts = game:GetService("TweenService")
local v3n = Vector3.new
local cfn = CFrame.new
local cam = false
local bpp = false
local Commands = {}
local Prefix = "/"
warn("Prefix is", Prefix)
function r6()
    if lp.Character:FindFirstChildOfClass("Humanoid").RigType == Enum.HumanoidRigType.R6 then
        return true
    elseif lp.Character:FindFirstChildOfClass("Humanoid").RigType == Enum.HumanoidRigType.R15 then
        return false
    end
end
function popup(msg,wdel)
    local sg = Instance.new("ScreenGui",game:GetService("CoreGui"))
    local tlabel = Instance.new("TextLabel",sg)
    tlabel.BackgroundTransparency = 1
    tlabel.Size = UDim2.new(0,400,0,50)
    tlabel.Position = UDim2.new(0,0,0,mouse.ViewSizeY/2-50)
    tlabel.Text = msg
    tlabel.TextScaled = true
    wait(wdel)
    sg:Destroy()
end
function say(t)
    game.ReplicatedStorage.DefaultChatSystemChatEvents.SayMessageRequest:FireServer(t,"All")
end
function selp(player)
    local sb = Instance.new("BoxHandleAdornment")
    sb.Name = "NILLASD123151"
    sb.Parent = player
    sb.Adornee = player
    sb.Size = v3n(1,1,1)
    sb.ZIndex = 1
    sb.AlwaysOnTop = true
    sb.Transparency = 0.7
end
function clone(tf)
    if lp and lp.Character and lp.Character:FindFirstChildOfClass("Humanoid") then
        local chum = lp.Character:FindFirstChildOfClass("Humanoid"):Clone()
        chum.Parent = lp.Character
        lp.Character:FindFirstChildOfClass("Humanoid"):Destroy()
        if tf then
            for _,z in pairs(lp.Backpack:GetChildren()) do
                if z:IsA'Tool' then
                    if ac then
                        z.Name = "nilthisplease"
                    end
                    z.Parent = lp.Character 
                end
            end
        end
    end
end
function addpt(name,anchored,cancollide,size,cf)
    local variable = Instance.new("Part",workspace)
    variable.Name = name
    variable.Anchored = anchored
    variable.CanCollide = cancollide
    if size == nil then
        variable.Size = v3n(4,1,2)
    else 
        variable.Size = v3n(size,size,size)
    end
    variable.CFrame = cf
end
if isfolder("Playerss") == false then
    makefolder("Playerss")
else
    print("Already A Folder or Cannot Make")
end
--credits to Zells for the cmd handler
local function AddCmd(CmdName, Desc, Func)
    Commands[#Commands + 1] = {["Name"] = CmdName, ["Description"] = Desc, ["Function"] = Func}
end

local function Search(CmdName)
    for _, v in pairs(Commands) do 
        if v.Name == CmdName then 
            return v.Function 
        end
    end
end

local function Help()
    for _, v in pairs(Commands) do 
        warn(v.Name, v.Description)
    end
end
 
local function CheckCmd(Cmd)
    Cmd = string.lower(Cmd)
    if Cmd:sub(1, #Prefix) == Prefix then 
        local Args = string.split(Cmd:sub(#Prefix + 1), " ")
        local CmdName = Search(table.remove(Args, 1))
        if CmdName and Args then
            return CmdName(Args)
        end
    end
end

AddCmd("ws", "-WalkSpeed Changer", function(Args)
    lp.Character.Humanoid.WalkSpeed = Args[1]
    popup("WalkSpeed Set To" .. " " .. Args[1],0.5)
end)
AddCmd("jp", "-JumpPower Changer", function(Args)
    lp.Character.Humanoid.JumpPower = Args[1]
    popup("JumpPower Set To" .. " " .. Args[1],0.5)
end)
AddCmd("info", "-Checks Name/Age/Checks Friends Sends To Workspace", function(Args)
    for _,v in pairs(game.Players:GetPlayers()) do
        if v.Name:lower():sub(1,#Args[1]) == Args[1]:lower() then
            writefile("Playerss/".. v.Name .. ".txt","Name: " .. v.Name .. " | Age: " .. v.AccountAge .. " | Roblox Profile: https://www.roblox.com/users/" .. v.UserId .. "/profile")
            for _,f in pairs(game.Players:GetPlayers()) do
                if f:IsFriendsWith(z.UserId) then
                    writefile("Playerss/".. v.Name .. " Friend.txt","Name: " .. f.Name .. " | Age: " .. f.AccountAge .. " | Roblox Profile: https://www.roblox.com/users/" .. f.UserId .. "/profile")
                end
            end
        end
    end
    popup("Sent Information In Workspace Folder",1)
end)
AddCmd("rj", "-Rejoins", function(Args)
    popup("Rejoining...",1)
    game:GetService("TeleportService"):Teleport(game.PlaceId,lp)
end)
AddCmd("toolanim", "-No Tool Animation", function(Args)
    game.Players.LocalPlayer.Character:FindFirstChild("Animate").toolnone.ToolNoneAnim.AnimationId = "nil"        
    popup("Turned Off Tool Anim",1)
end)
AddCmd("goto", "-Tps To Player", function(Args)
    for _,v in pairs(game.Players:GetPlayers()) do
        if v.Name:lower():sub(1,#Args[1]) == Args[1]:lower() then
            lp.Character.HumanoidRootPart.CFrame = v.Character.Head.CFrame
        end
    end
end)
AddCmd("esp", "-ESP's Player", function(Args)
    for _,v in pairs(game.Players:GetPlayers()) do
        if v.Name:lower():sub(1,#Args[1]) == Args[1]:lower() then
            if v and v.Character and v.Character:FindFirstChild("Head") then
                selp(v.Character.Head)
                popup("Esp'd" .. " " .. v.Name,0.5)
            else
                popup("Cant Esp" .. " " .. v.Name,0.5)
            end
        end
    end
end)
AddCmd("unesp", "-UnESP's Player", function(Args)
    for _,v in pairs(game.Players:GetPlayers()) do
        if v.Name:lower():sub(1,#Args[1]) == Args[1]:lower() then
            if v.Character.Head:FindFirstChildOfClass("BoxHandleAdornment") ~= nil then
                v.Character.Head['NILLASD123151']:Destroy()
                popup("UnEsp'd" .. " " .. v.Name,0.5)
            else
                popup("Cant UnEsp" .. " " .. v.Name,0.5)
            end
        end
    end
end)
AddCmd("cl", "-Claims Player [[ToolsNeeded]]", function(Args)
    for _,v in pairs(game.Players:GetPlayers()) do
        if v.Name:lower():sub(1,#Args[1]) == Args[1]:lower() then
            if v and v.Character then else popup("Cannot Kill",1) end
            clone(true)
            local num = 0
            repeat wait()
                pcall(function()
                    lp.Character.HumanoidRootPart.CFrame = v.Character.HumanoidRootPart.CFrame
                    num = num + 1
                end)
            until num == 20
            lp.Character.HumanoidRootPart.CFrame = cfn(0,workspace.FallenPartsDestroyHeight + 5,0)
        end
    end
    popup("Killed Player",0.5)
end)
AddCmd("bring", "-Brings Player [[ToolsNeeded]]", function(Args)
    for _,v in pairs(game.Players:GetPlayers()) do
        if v.Name:lower():sub(1,#Args[1]) == Args[1]:lower() then
            if v and v.Character then else popup("Cannot Bring",1) end
            addpt('ndswdasasdsaddsaasdq123w',true,false,nil,lp.Character.HumanoidRootPart.CFrame)
            clone(true)
            local num = 0
            repeat wait()
                pcall(function()
                    lp.Character.HumanoidRootPart.CFrame = v.Character.HumanoidRootPart.CFrame
                    num = num + 1
                end)
            until num == 20
            lp.Character.HumanoidRootPart.CFrame = workspace['ndsww'].CFrame
            workspace['ndswdasasdsaddsaasdq123w']:Destroy()
        end
    end
    popup("Brung Player",0.5)
end)
ac = false
AddCmd("ac", "-Anti-Claim", function(Args)
    ac = true
    popup("Anti-Claim On",0.5)
end)
AddCmd("unac", "-Un Anti-Claim", function(Args)
    ac = false
    popup("Anti-Claim Off",0.5)
end)
AddCmd("re", "-Resets Player", function(Args)
    lp.Character:BreakJoints()
    popup("Reseted",0.5)
end)

--cmdx serverhopper creds to that
AddCmd("sh", "-Server Hops", function(Args)
    popup("ServerHopping Wait",1)
    if syn.queue_on_teleport then
        syn.queue_on_teleport('game:GetService("ReplicatedFirst"):RemoveDefaultLoadingScreen()')
    end
    local GUIDs = {}
    local maxPlayers = 0
    local pagesToSearch = 100
    local Http = game:GetService("HttpService"):JSONDecode(game:HttpGet("https://games.roblox.com/v1/games/"..game.PlaceId.."/servers/Public?sortOrder=Asc&limit=100&cursor="))
    for i = 1,pagesToSearch do
        for i,v in pairs(Http.data) do
            if v.playing ~= v.maxPlayers and v.id ~= game.JobId then
                maxPlayers = v.maxPlayers
                table.insert(GUIDs, {id = v.id, users = v.playing})
            end
        end
        if Http.nextPageCursor ~= null then 
            Http = game:GetService("HttpService"):JSONDecode(game:HttpGet("https://games.roblox.com/v1/games/"..game.PlaceId.."/servers/Public?sortOrder=Asc&limit=100&cursor="..Http.nextPageCursor)) 
        else 
            break 
        end
    end
    game:GetService("TeleportService"):TeleportToPlaceInstance(game.PlaceId, GUIDs[math.random(1,#GUIDs)].id, lp)
end)
local stopit = false
AddCmd("ungtools", "-Stops GrabTools", function(Args)
    stopit = false
    popup("Grab Tools Off",0.5)
end)
AddCmd("gtools", "-Grabs Tools", function(Args)
    stopit = true
    popup("Grab Tools On",0.5)
end)
AddCmd("etools", "-Equips Tools", function(Args)
    for _,z in pairs(lp.Backpack:GetChildren()) do
        if z:IsA'Tool' then
            z.Parent = lp.Character
        end
    end
    popup("Equip Tools",0.5)
end)
AddCmd("dtools", "-Drops Tools", function(Args)
    for _,z in pairs(lp.Character:GetChildren()) do
        if z:IsA'Tool' then
            z.Parent = game.Workspace
        end
    end
    popup("Dropped Tools",0.5)
end)
AddCmd("fov", "-Field Of View Changer", function(Args)
    game.Workspace.Camera.FieldOfView = Args[1]
    popup("FOV Changed To " .. Args[1],0.5)
end)
AddCmd("noclip", "-Noclips Character", function(Args)
    noClip = true
    popup("Noclip On",0.5)
end)
AddCmd("clip", "-Unclips Character", function(Args)
    noClip = false
    popup("Noclip Off",0.5)
end)
AddCmd("bpp", "-Turns On BackpackPlay", function(Args)
    bpp = true
    popup("BackpackPlay On",0.5)
end)
AddCmd("unbpp", "-Turns Off BackpackPlay", function(Args)
    bpp = false
    popup("BackpackPlay Off",0.5)
end)
--credits to infinite yield ; noclip cam
AddCmd("cam", "-Noclips Camera", function(Args)
    cam = true
    popup("Camera Noclip On",0.5)
end)
AddCmd("uncam", "-Clips Camera", function(Args)
    cam = false
    popup("Camera Noclip Off",0.5)
end)
AddCmd("anims", "-Changes Anim Speed", function(Args)
	local Hum = lp.Character:FindFirstChild("Humanoid") or lp.Character:FindFirstChildOfClass("AnimationController")
	popup("Server mute On " .. Args[1],0.5)
	for _,z in next, Hum:GetPlayingAnimationTracks() do
		z:AdjustSpeed(tonumber(Args[1] or 1))
	end
end)
AddCmd("smute", "-Server Mutes Boombox's", function(Args)
    smute = true
    popup("Server mute On",0.5)
end)
AddCmd("unsmute", "-UnServer Mutes Boombox's", function(Args)
    smute = false
    popup("Server mute Off",0.5)
end)
AddCmd("tpa", "-Changes TimePos", function(Args)
    for _,z in pairs(game:GetDescendants()) do
        if z:IsA'Sound' then
            z.TimePosition = Args[1]
            local numsdmsdmsd = tonumber(Args[1])
        end
    end
    popup("TimePosition Changed",0.5)
end)
AddCmd("freeze", "-Freeze's Character", function(Args)
    for _,z in pairs(lp.Character:GetDescendants()) do
        if z:IsA'Part' then
            if z.Name ~= "Handle" then
                z.Anchored = true 
            end
        end
    end
    popup("Froze Character",0.5)
end)
AddCmd("unfreeze", "-UnFreeze's Character", function(Args)
    for _,z in pairs(lp.Character:GetDescendants()) do
        if z:IsA'Part' then
            if z.Name ~= "Handle" then
                z.Anchored = false 
            end
        end
    end
    popup("UnFroze Character",0.5)
end)
AddCmd("spec", "-Spectates Player", function(Args)
    for _,v in pairs(game.Players:GetPlayers()) do
        if v.Name:lower():sub(1,#Args[1]) == Args[1]:lower() then
            if v and v.Character then else popup("Cannot Spectate",1) end
            workspace.CurrentCamera.CameraSubject = v.Character.Head
        end
    end
    popup("Spectating Player",0.5)
end)
AddCmd("unspec", "Fixes Camera", function(Args)
    workspace.CurrentCamera.CameraSubject = lp.Character.Humanoid
end)
game.Players.LocalPlayer.Chatted:Connect(function(Msg)
    CheckCmd(Msg)
end)
Help()
function cadd()
    lp.Character.ChildAdded:Connect(function(thing)
        if ac then
            if thing:IsA'Tool' then
                if thing.Name == "nilthisplease" then
                    
                else
                    heartbeat:Wait()
                    thing.Parent = lp.Backpack
                end
            end
        end
    end)
end
cadd()
lp.CharacterAdded:Connect(function()
    cadd()
end)
rservice.Stepped:Connect(function()
    pcall(function()
        --credits synapse discord dev for fps cap
        setfpscap(1e6)
        if noClip == true then
            for _,z in pairs(lp.Character:GetChildren()) do
                if z:IsA'Part' or z:IsA'MeshPart' then
                    z.CanCollide = false 
                end
            end
        end
        if cam == true then
            lp.CameraMinZoomDistance = math.huge - math.huge
            lp.CameraMaxZoomDistance = math.huge - math.huge 
        end
        if cam == false then
            lp.CameraMinZoomDistance = 0.05
            lp.CameraMaxZoomDistance = math.huge
        end
        if smute then
            for _,z in pairs(game.Players:GetPlayers()) do
                if z.Name ~= lp.Name then
                    for _,v in pairs(z.Character:GetDescendants()) do
                        if v:IsA'Sound' then
                            v.Playing = false 
                        end
                    end
                end
            end
        end
        if bpp == true then
            for _,z in pairs(lp.Backpack:GetDescendants()) do
                if z:IsA'Sound' then
                   z.Playing = true 
                end
            end
        end
        if stopit then
            for _,z in pairs(game.Workspace:GetChildren()) do
                if z:IsA'Tool' then
                    pcall(function()
                        z.Handle.CFrame = lp.Character.HumanoidRootPart.CFrame
                    end)
                end
            end
        end
    end)
end)
popup("Thanks For Using Shit Script :D",2)
